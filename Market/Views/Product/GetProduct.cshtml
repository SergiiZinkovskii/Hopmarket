@model Market.Domain.ViewModels.Product.ProductViewModel

<form class="bg-light" id="edit-product-form">
    <div class="row">
        <div class="col-md-12">
            <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model?.Image ?? Array.Empty<byte>())"
                 class="img-fluid rounded-start rounded">
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-4">
            <label asp-for="@Model.Name" class="col-form-label"></label>
            <input type="text" class="form-control" asp-for="@Model.Name">
        </div>
        <div class="form-group col-md-4">
            <label asp-for="@Model.Model" class="col-form-label"></label>
            <input class="form-control" asp-for="@Model.Model" />
        </div>
        <div class="form-group col-md-4">
            <label asp-for="@Model.Price" class="col-form-label"></label>
            <input type="text" class="form-control" asp-for="@Model.Price" />
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-12">
            <label asp-for="@Model.Description" class="col-form-label"></label>
            <textarea type="text" class="form-control" asp-for="@Model.Description"></textarea>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-6">
            <label asp-for="@Model.TypeProduct" class="col-form-label"></label>
            <select class="form-control" id="productTypeId2">
                <option value="@Model.TypeProduct">@Model.TypeProduct</option>
            </select>
        </div>
            @if (User.IsInRole("Admin"))
            {
        <div class="form-group col-md-6">
            <label asp-for="@Model.DateCreate" class="col-form-label"></label>
            <input class="form-control" asp-for="@Model.DateCreate" />
        </div>
            }
        
    </div>
    </form>
<div class="modal-body">
    <a asp-controller="Order" asp-action="CreateOrder" asp-route-id="@Model.Id" class="btn btn-success">В кошик</a>
    <a asp-controller="Product" asp-action="GetCategory" asp-route-category="@Model.TypeProduct"  class="btn btn-secondary">Назад</a>

    @if (User.IsInRole("Admin"))
    {
        <a onclick="editProduct('@Model.Id')" class="btn btn-secondary">Змінити</a>

        <a asp-controller="Product" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Видалити</a>
    }
</div>

<style>
    label {
        color: black;
    }
</style>

<script src="~/lib/select2/js/select2.full.min.js"></script>
@*<script>
    function editProduct(@Model.Id) {
        var formData = new FormData($('#edit-product-form')[0]);
        $.ajax({
            url: '/Product/Save/,
            type: 'POST',
            processData: false,
            contentType: false,
            data: formData,
            success: function (result) {
                // handle success
            },
            error: function (xhr, status, error) {
                // handle error
            }
        });
    }
</script>*@